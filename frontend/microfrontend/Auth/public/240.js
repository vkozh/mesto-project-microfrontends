"use strict";(self.webpackChunkheader=self.webpackChunkheader||[]).push([[240],{240:(e,n,a)=>{a.r(n),a.d(n,{default:()=>i});var t=a(914),s=a(474),r=a(467);function i(e){let{register:n,loggedIn:a,Header:i}=e;const[l,o]=(0,t.useState)({email:"",password:""});return(0,r.jsxs)(r.Fragment,{children:[i&&(0,r.jsx)(i,{loggedIn:a,textButton:"Войти",link:"/signin"}),(0,r.jsx)(s.A,{title:"Регистрация",buttonText:"Зарегистрироваться",onSubmit:function(e){e.preventDefault(),n(l.password,l.email).then((()=>{o({email:"",password:""})}))},loginLink:"/signin",onChange:(e,n)=>o({...l,[e]:n}),inputsValues:l})]})}},474:(e,n,a)=>{a.d(n,{A:()=>l});var t=a(914),s=a(297),r=a(467);function i(e){let{handleValidation:n,errorClassName:a,value:s,onChange:i,isOpenPopup:l,...o}=e;const[u,d]=(0,t.useState)("");return(0,t.useEffect)((()=>{d("")}),[l]),(0,t.useEffect)((()=>{n({[o.name]:!1})}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{...o,value:s||"",onChange:e=>{const a=e.target,t=a.validity.valid;t&&d(""),i(o.name,a.value),n({[o.name]:t})},onBlur:e=>d(e.target.validationMessage)}),(0,r.jsx)("p",{className:a,children:u})]})}function l(e){let{title:n,buttonText:a,onSubmit:l,onChange:o,loginLink:u,inputsValues:d}=e;const[c,m]=(0,t.useState)(!1),[h,p]=(0,t.useState)({email:!1,password:!1}),g=e=>{p({...h,...e})};return(0,t.useEffect)((()=>{g({email:!1,password:!1})}),[]),(0,t.useEffect)((()=>{m(!Object.values(h).every((e=>e)))}),[h]),(0,r.jsxs)("div",{className:"enter container__enter",children:[(0,r.jsx)("h2",{className:"enter__title",children:n}),(0,r.jsxs)("form",{className:"enter__form",name:"enterForm",noValidate:!0,onSubmit:l,children:[(0,r.jsxs)("div",{className:"enter__input-container",children:[(0,r.jsx)(i,{name:"email",type:"email",minLength:"2",maxLength:"40",placeholder:"Email",className:"enter__input",errorClassName:"enter__input-error",required:!0,value:d.email,handleValidation:g,onChange:o}),(0,r.jsx)(i,{name:"password",type:"password",minLength:"2",maxLength:"40",placeholder:"Пароль",className:"enter__input",errorClassName:"enter__input-error",required:!0,value:d.password,handleValidation:g,onChange:o})]}),(0,r.jsxs)("div",{className:"enter__button-container",children:[(0,r.jsx)("button",{className:"enter__button",type:"submit",disabled:c,children:a}),(0,r.jsx)("p",{className:"enter__link-container",children:u&&(0,r.jsxs)(r.Fragment,{children:["Уже зарегистрированы?"," ",(0,r.jsx)(s.N_,{className:"enter__link",to:u,children:"Войти"})]})})]})]})]})}}}]);